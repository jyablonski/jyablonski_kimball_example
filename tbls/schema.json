{"name":"postgres","tables":[{"name":"dbt_stg.alerts_anomaly_detection","type":"VIEW","columns":[{"name":"alert_description","type":"text","nullable":true},{"name":"alert_id","type":"text","nullable":true},{"name":"alert_results_query","type":"text","nullable":true},{"name":"alert_type","type":"varchar(4096)","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"data_issue_id","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"model_unique_id","type":"text","nullable":true},{"name":"other","type":"varchar(4096)","nullable":true},{"name":"owners","type":"varchar(4096)","nullable":true},{"name":"result_rows","type":"text","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"severity","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"sub_type","type":"varchar(4096)","nullable":true},{"name":"table_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"varchar(4096)","nullable":true},{"name":"test_execution_id","type":"text","nullable":true},{"name":"test_name","type":"text","nullable":true},{"name":"test_params","type":"text","nullable":true},{"name":"test_short_name","type":"varchar(4096)","nullable":true},{"name":"test_unique_id","type":"text","nullable":true}],"def":"CREATE VIEW alerts_anomaly_detection AS (\n WITH elementary_test_results AS (\n         SELECT elementary_test_results.id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.invocation_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.created_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type,\n            elementary_test_results.test_sub_type,\n            elementary_test_results.test_results_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.failures,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_alias,\n            elementary_test_results.result_rows,\n            elementary_test_results.failed_row_count\n           FROM dbt_stg.elementary_test_results\n        ), alerts_anomaly_detection AS (\n         SELECT elementary_test_results.id AS alert_id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type AS alert_type,\n            elementary_test_results.test_sub_type AS sub_type,\n            elementary_test_results.test_results_description AS alert_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query AS alert_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.result_rows\n           FROM elementary_test_results\n          WHERE (true AND (lower((elementary_test_results.status)::text) \u003c\u003e 'pass'::text) AND (lower((elementary_test_results.status)::text) \u003c\u003e 'skipped'::text) AND ((elementary_test_results.test_type)::text = 'anomaly_detection'::text))\n        )\n SELECT alert_id,\n    data_issue_id,\n    test_execution_id,\n    test_unique_id,\n    model_unique_id,\n    detected_at,\n    database_name,\n    schema_name,\n    table_name,\n    column_name,\n    alert_type,\n    sub_type,\n    alert_description,\n    owners,\n    tags,\n    alert_results_query,\n    other,\n    test_name,\n    test_short_name,\n    test_params,\n    severity,\n    status,\n    result_rows\n   FROM alerts_anomaly_detection\n)","referenced_tables":["dbt_stg.elementary_test_results","alerts_anomaly_detection"]},{"name":"dbt_stg.alerts_dbt_models","type":"VIEW","columns":[{"name":"alert_id","type":"text","nullable":true},{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"message","type":"text","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owners","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"text","nullable":true}],"def":"CREATE VIEW alerts_dbt_models AS (\n WITH error_models AS (\n         SELECT model_run_results.model_execution_id,\n            model_run_results.unique_id,\n            model_run_results.invocation_id,\n            model_run_results.name,\n            model_run_results.generated_at,\n            model_run_results.status,\n            model_run_results.full_refresh,\n            model_run_results.message,\n            model_run_results.execution_time,\n            model_run_results.execute_started_at,\n            model_run_results.execute_completed_at,\n            model_run_results.compile_started_at,\n            model_run_results.compile_completed_at,\n            model_run_results.compiled_code,\n            model_run_results.database_name,\n            model_run_results.schema_name,\n            model_run_results.materialization,\n            model_run_results.tags,\n            model_run_results.package_name,\n            model_run_results.path,\n            model_run_results.original_path,\n            model_run_results.owner,\n            model_run_results.alias\n           FROM dbt_stg.model_run_results\n        UNION ALL\n         SELECT snapshot_run_results.model_execution_id,\n            snapshot_run_results.unique_id,\n            snapshot_run_results.invocation_id,\n            snapshot_run_results.name,\n            snapshot_run_results.generated_at,\n            snapshot_run_results.status,\n            snapshot_run_results.full_refresh,\n            snapshot_run_results.message,\n            snapshot_run_results.execution_time,\n            snapshot_run_results.execute_started_at,\n            snapshot_run_results.execute_completed_at,\n            snapshot_run_results.compile_started_at,\n            snapshot_run_results.compile_completed_at,\n            snapshot_run_results.compiled_code,\n            snapshot_run_results.database_name,\n            snapshot_run_results.schema_name,\n            snapshot_run_results.materialization,\n            snapshot_run_results.tags,\n            snapshot_run_results.package_name,\n            snapshot_run_results.path,\n            snapshot_run_results.original_path,\n            snapshot_run_results.owner,\n            snapshot_run_results.alias\n           FROM dbt_stg.snapshot_run_results\n        )\n SELECT model_execution_id AS alert_id,\n    unique_id,\n    (generated_at)::timestamp without time zone AS detected_at,\n    database_name,\n    materialization,\n    path,\n    original_path,\n    schema_name,\n    message,\n    owner AS owners,\n    tags,\n    alias,\n    status,\n    full_refresh\n   FROM error_models\n  WHERE (true AND (lower((status)::text) \u003c\u003e 'success'::text) AND (lower((status)::text) \u003c\u003e 'skipped'::text))\n)","referenced_tables":["dbt_stg.model_run_results","dbt_stg.snapshot_run_results"]},{"name":"dbt_stg.alerts_dbt_source_freshness","type":"VIEW","columns":[{"name":"alert_id","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"error","type":"varchar(4096)","nullable":true},{"name":"error_after","type":"varchar(4096)","nullable":true},{"name":"filter","type":"text","nullable":true},{"name":"freshness_error_after","type":"varchar(4096)","nullable":true},{"name":"freshness_filter","type":"text","nullable":true},{"name":"freshness_warn_after","type":"varchar(4096)","nullable":true},{"name":"identifier","type":"varchar(4096)","nullable":true},{"name":"max_loaded_at","type":"varchar(4096)","nullable":true},{"name":"max_loaded_at_time_ago_in_s","type":"double precision","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"snapshotted_at","type":"varchar(4096)","nullable":true},{"name":"source_name","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true},{"name":"warn_after","type":"varchar(4096)","nullable":true}],"def":"CREATE VIEW alerts_dbt_source_freshness AS (\n WITH results AS (\n         SELECT dbt_source_freshness_results.source_freshness_execution_id,\n            dbt_source_freshness_results.unique_id,\n            dbt_source_freshness_results.max_loaded_at,\n            dbt_source_freshness_results.snapshotted_at,\n            dbt_source_freshness_results.generated_at,\n            dbt_source_freshness_results.created_at,\n            dbt_source_freshness_results.max_loaded_at_time_ago_in_s,\n            dbt_source_freshness_results.status,\n            dbt_source_freshness_results.error,\n            dbt_source_freshness_results.compile_started_at,\n            dbt_source_freshness_results.compile_completed_at,\n            dbt_source_freshness_results.execute_started_at,\n            dbt_source_freshness_results.execute_completed_at,\n            dbt_source_freshness_results.invocation_id,\n            dbt_source_freshness_results.warn_after,\n            dbt_source_freshness_results.error_after,\n            dbt_source_freshness_results.filter\n           FROM dbt_stg.dbt_source_freshness_results\n        ), sources AS (\n         SELECT dbt_sources.unique_id,\n            dbt_sources.database_name,\n            dbt_sources.schema_name,\n            dbt_sources.source_name,\n            dbt_sources.name,\n            dbt_sources.identifier,\n            dbt_sources.loaded_at_field,\n            dbt_sources.freshness_warn_after,\n            dbt_sources.freshness_error_after,\n            dbt_sources.freshness_filter,\n            dbt_sources.freshness_description,\n            dbt_sources.relation_name,\n            dbt_sources.tags,\n            dbt_sources.meta,\n            dbt_sources.owner,\n            dbt_sources.package_name,\n            dbt_sources.original_path,\n            dbt_sources.path,\n            dbt_sources.source_description,\n            dbt_sources.description,\n            dbt_sources.generated_at,\n            dbt_sources.metadata_hash\n           FROM dbt_stg.dbt_sources\n        )\n SELECT results.source_freshness_execution_id AS alert_id,\n    results.max_loaded_at,\n    results.snapshotted_at,\n    (results.generated_at)::timestamp without time zone AS detected_at,\n    results.max_loaded_at_time_ago_in_s,\n    results.status,\n    results.error,\n    results.warn_after,\n    results.error_after,\n    results.filter,\n    sources.unique_id,\n    sources.database_name,\n    sources.schema_name,\n    sources.source_name,\n    sources.identifier,\n    sources.tags,\n    sources.meta,\n    sources.owner,\n    sources.package_name,\n    sources.path,\n    results.error_after AS freshness_error_after,\n    results.warn_after AS freshness_warn_after,\n    results.filter AS freshness_filter\n   FROM (results\n     JOIN sources ON (((results.unique_id)::text = (sources.unique_id)::text)))\n  WHERE (true AND (lower((results.status)::text) \u003c\u003e 'pass'::text))\n)","referenced_tables":["dbt_stg.dbt_source_freshness_results","dbt_stg.dbt_sources","sources"]},{"name":"dbt_stg.alerts_dbt_tests","type":"VIEW","columns":[{"name":"alert_description","type":"text","nullable":true},{"name":"alert_id","type":"text","nullable":true},{"name":"alert_results_query","type":"text","nullable":true},{"name":"alert_type","type":"varchar(4096)","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"data_issue_id","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"model_unique_id","type":"text","nullable":true},{"name":"other","type":"varchar(4096)","nullable":true},{"name":"owners","type":"varchar(4096)","nullable":true},{"name":"result_rows","type":"text","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"severity","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"sub_type","type":"varchar(4096)","nullable":true},{"name":"table_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"varchar(4096)","nullable":true},{"name":"test_execution_id","type":"text","nullable":true},{"name":"test_name","type":"text","nullable":true},{"name":"test_params","type":"text","nullable":true},{"name":"test_short_name","type":"varchar(4096)","nullable":true},{"name":"test_unique_id","type":"text","nullable":true}],"def":"CREATE VIEW alerts_dbt_tests AS (\n WITH elementary_test_results AS (\n         SELECT elementary_test_results.id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.invocation_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.created_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type,\n            elementary_test_results.test_sub_type,\n            elementary_test_results.test_results_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.failures,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_alias,\n            elementary_test_results.result_rows,\n            elementary_test_results.failed_row_count\n           FROM dbt_stg.elementary_test_results\n        ), alerts_dbt_tests AS (\n         SELECT elementary_test_results.id AS alert_id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type AS alert_type,\n            elementary_test_results.test_sub_type AS sub_type,\n            elementary_test_results.test_results_description AS alert_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query AS alert_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.result_rows\n           FROM elementary_test_results\n          WHERE (true AND (lower((elementary_test_results.status)::text) \u003c\u003e 'pass'::text) AND (lower((elementary_test_results.status)::text) \u003c\u003e 'skipped'::text) AND ((elementary_test_results.test_type)::text = 'dbt_test'::text))\n        )\n SELECT alert_id,\n    data_issue_id,\n    test_execution_id,\n    test_unique_id,\n    model_unique_id,\n    detected_at,\n    database_name,\n    schema_name,\n    table_name,\n    column_name,\n    alert_type,\n    sub_type,\n    alert_description,\n    owners,\n    tags,\n    alert_results_query,\n    other,\n    test_name,\n    test_short_name,\n    test_params,\n    severity,\n    status,\n    result_rows\n   FROM alerts_dbt_tests\n)","referenced_tables":["dbt_stg.elementary_test_results","alerts_dbt_tests"]},{"name":"dbt_stg.alerts_schema_changes","type":"VIEW","columns":[{"name":"alert_description","type":"text","nullable":true},{"name":"alert_id","type":"text","nullable":true},{"name":"alert_results_query","type":"text","nullable":true},{"name":"alert_type","type":"varchar(4096)","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"data_issue_id","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"model_unique_id","type":"text","nullable":true},{"name":"other","type":"varchar(4096)","nullable":true},{"name":"owners","type":"varchar(4096)","nullable":true},{"name":"result_rows","type":"text","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"severity","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"sub_type","type":"varchar(4096)","nullable":true},{"name":"table_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"varchar(4096)","nullable":true},{"name":"test_execution_id","type":"text","nullable":true},{"name":"test_name","type":"text","nullable":true},{"name":"test_params","type":"text","nullable":true},{"name":"test_short_name","type":"varchar(4096)","nullable":true},{"name":"test_unique_id","type":"text","nullable":true}],"def":"CREATE VIEW alerts_schema_changes AS (\n WITH elementary_test_results AS (\n         SELECT elementary_test_results.id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.invocation_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.created_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type,\n            elementary_test_results.test_sub_type,\n            elementary_test_results.test_results_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.failures,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_alias,\n            elementary_test_results.result_rows,\n            elementary_test_results.failed_row_count\n           FROM dbt_stg.elementary_test_results\n        ), alerts_schema_changes AS (\n         SELECT elementary_test_results.id AS alert_id,\n            elementary_test_results.data_issue_id,\n            elementary_test_results.test_execution_id,\n            elementary_test_results.test_unique_id,\n            elementary_test_results.model_unique_id,\n            elementary_test_results.detected_at,\n            elementary_test_results.database_name,\n            elementary_test_results.schema_name,\n            elementary_test_results.table_name,\n            elementary_test_results.column_name,\n            elementary_test_results.test_type AS alert_type,\n            elementary_test_results.test_sub_type AS sub_type,\n            elementary_test_results.test_results_description AS alert_description,\n            elementary_test_results.owners,\n            elementary_test_results.tags,\n            elementary_test_results.test_results_query AS alert_results_query,\n            elementary_test_results.other,\n            elementary_test_results.test_name,\n            elementary_test_results.test_short_name,\n            elementary_test_results.test_params,\n            elementary_test_results.severity,\n            elementary_test_results.status,\n            elementary_test_results.result_rows\n           FROM elementary_test_results\n          WHERE (true AND (lower((elementary_test_results.status)::text) \u003c\u003e 'pass'::text) AND (lower((elementary_test_results.status)::text) \u003c\u003e 'skipped'::text) AND ((elementary_test_results.test_type)::text = 'schema_change'::text))\n        )\n SELECT alert_id,\n    data_issue_id,\n    test_execution_id,\n    test_unique_id,\n    model_unique_id,\n    detected_at,\n    database_name,\n    schema_name,\n    table_name,\n    column_name,\n    alert_type,\n    sub_type,\n    alert_description,\n    owners,\n    tags,\n    alert_results_query,\n    other,\n    test_name,\n    test_short_name,\n    test_params,\n    severity,\n    status,\n    result_rows\n   FROM alerts_schema_changes\n)","referenced_tables":["dbt_stg.elementary_test_results","alerts_schema_changes"]},{"name":"dbt_stg.anomaly_threshold_sensitivity","type":"VIEW","columns":[{"name":"anomaly_score","type":"double precision","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"full_table_name","type":"varchar(4096)","nullable":true},{"name":"is_anomaly_1_5","type":"boolean","nullable":true},{"name":"is_anomaly_2","type":"boolean","nullable":true},{"name":"is_anomaly_2_5","type":"boolean","nullable":true},{"name":"is_anomaly_3","type":"boolean","nullable":true},{"name":"is_anomaly_3_5","type":"boolean","nullable":true},{"name":"is_anomaly_4","type":"boolean","nullable":true},{"name":"is_anomaly_4_5","type":"boolean","nullable":true},{"name":"latest_metric_value","type":"double precision","nullable":true},{"name":"metric_avg","type":"double precision","nullable":true},{"name":"metric_name","type":"varchar(4096)","nullable":true},{"name":"metric_stddev","type":"double precision","nullable":true}],"def":"CREATE VIEW anomaly_threshold_sensitivity AS (\n WITH metrics_anomaly_score AS (\n         SELECT metrics_anomaly_score.id,\n            metrics_anomaly_score.full_table_name,\n            metrics_anomaly_score.column_name,\n            metrics_anomaly_score.dimension,\n            metrics_anomaly_score.dimension_value,\n            metrics_anomaly_score.metric_name,\n            metrics_anomaly_score.anomaly_score,\n            metrics_anomaly_score.latest_metric_value,\n            metrics_anomaly_score.bucket_start,\n            metrics_anomaly_score.bucket_end,\n            metrics_anomaly_score.training_avg,\n            metrics_anomaly_score.training_stddev,\n            metrics_anomaly_score.training_start,\n            metrics_anomaly_score.training_end,\n            metrics_anomaly_score.training_set_size,\n            metrics_anomaly_score.updated_at,\n            metrics_anomaly_score.is_anomaly\n           FROM dbt_stg.metrics_anomaly_score\n        ), score_sensitivity AS (\n         SELECT metrics_anomaly_score.full_table_name,\n            metrics_anomaly_score.column_name,\n            metrics_anomaly_score.metric_name,\n            metrics_anomaly_score.latest_metric_value,\n            metrics_anomaly_score.training_avg AS metric_avg,\n            metrics_anomaly_score.training_stddev AS metric_stddev,\n            metrics_anomaly_score.anomaly_score,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (1.5)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_1_5,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (2)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_2,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (2.5)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_2_5,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (3)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_3,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (3.5)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_3_5,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (4)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_4,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e= (4.5)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly_4_5\n           FROM metrics_anomaly_score\n          WHERE (abs(metrics_anomaly_score.anomaly_score) \u003e= (1.5)::double precision)\n        )\n SELECT full_table_name,\n    column_name,\n    metric_name,\n    latest_metric_value,\n    metric_avg,\n    metric_stddev,\n    anomaly_score,\n    is_anomaly_1_5,\n    is_anomaly_2,\n    is_anomaly_2_5,\n    is_anomaly_3,\n    is_anomaly_3_5,\n    is_anomaly_4,\n    is_anomaly_4_5\n   FROM score_sensitivity\n)","referenced_tables":["dbt_stg.metrics_anomaly_score","score_sensitivity"]},{"name":"dbt_stg.countries","type":"BASE TABLE","columns":[{"name":"country_code","type":"text","nullable":true},{"name":"country_name","type":"text","nullable":true},{"name":"country_rank","type":"integer","nullable":true},{"name":"test_fail","type":"integer","nullable":true}]},{"name":"dbt_stg.country_codes","type":"BASE TABLE","columns":[{"name":"country_code","type":"text","nullable":true},{"name":"country_name","type":"text","nullable":true}]},{"name":"dbt_stg.customer_changes_agg","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"max_modified_at","type":"timestamp without time zone","nullable":true},{"name":"num_records","type":"bigint","nullable":true}]},{"name":"dbt_stg.data_monitoring_metrics","type":"BASE TABLE","columns":[{"name":"bucket_duration_hours","type":"integer","nullable":true},{"name":"bucket_end","type":"timestamp without time zone","nullable":true},{"name":"bucket_start","type":"timestamp without time zone","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dimension","type":"varchar(4096)","nullable":true},{"name":"dimension_value","type":"varchar(4096)","nullable":true},{"name":"full_table_name","type":"varchar(4096)","nullable":true},{"name":"id","type":"varchar(4096)","nullable":true},{"name":"metric_name","type":"varchar(4096)","nullable":true},{"name":"metric_properties","type":"varchar(4096)","nullable":true},{"name":"metric_type","type":"varchar(4096)","nullable":true},{"name":"metric_value","type":"double precision","nullable":true},{"name":"source_value","type":"varchar(4096)","nullable":true},{"name":"updated_at","type":"timestamp without time zone","nullable":true}],"indexes":[{"name":"e972f8b79d3add928835513efa2df124","def":"CREATE INDEX e972f8b79d3add928835513efa2df124 ON dbt_stg.data_monitoring_metrics USING btree (full_table_name, column_name, metric_name)","table":"dbt_stg.data_monitoring_metrics","columns":["full_table_name","column_name","metric_name"]}]},{"name":"dbt_stg.dbt_artifacts_hashes","type":"VIEW","columns":[{"name":"artifacts_model","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true}],"def":"CREATE VIEW dbt_artifacts_hashes AS (\n SELECT 'dbt_models'::text AS artifacts_model,\n    dbt_models.metadata_hash\n   FROM dbt_stg.dbt_models\nUNION ALL\n SELECT 'dbt_tests'::text AS artifacts_model,\n    dbt_tests.metadata_hash\n   FROM dbt_stg.dbt_tests\nUNION ALL\n SELECT 'dbt_sources'::text AS artifacts_model,\n    dbt_sources.metadata_hash\n   FROM dbt_stg.dbt_sources\nUNION ALL\n SELECT 'dbt_snapshots'::text AS artifacts_model,\n    dbt_snapshots.metadata_hash\n   FROM dbt_stg.dbt_snapshots\nUNION ALL\n SELECT 'dbt_metrics'::text AS artifacts_model,\n    dbt_metrics.metadata_hash\n   FROM dbt_stg.dbt_metrics\nUNION ALL\n SELECT 'dbt_exposures'::text AS artifacts_model,\n    dbt_exposures.metadata_hash\n   FROM dbt_stg.dbt_exposures\nUNION ALL\n SELECT 'dbt_seeds'::text AS artifacts_model,\n    dbt_seeds.metadata_hash\n   FROM dbt_stg.dbt_seeds\nUNION ALL\n SELECT 'dbt_columns'::text AS artifacts_model,\n    dbt_columns.metadata_hash\n   FROM dbt_stg.dbt_columns\n  ORDER BY 2\n)","referenced_tables":["dbt_stg.dbt_models","dbt_stg.dbt_tests","dbt_stg.dbt_sources","dbt_stg.dbt_snapshots","dbt_stg.dbt_metrics","dbt_stg.dbt_exposures","dbt_stg.dbt_seeds","dbt_stg.dbt_columns"]},{"name":"dbt_stg.dbt_columns","type":"BASE TABLE","columns":[{"name":"data_type","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"parent_unique_id","type":"varchar(4096)","nullable":true},{"name":"resource_type","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"table_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_exposures","type":"BASE TABLE","columns":[{"name":"depends_on_columns","type":"text","nullable":true},{"name":"depends_on_macros","type":"text","nullable":true},{"name":"depends_on_nodes","type":"text","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"label","type":"varchar(4096)","nullable":true},{"name":"maturity","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner_email","type":"varchar(4096)","nullable":true},{"name":"owner_name","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"raw_queries","type":"text","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"type","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true},{"name":"url","type":"text","nullable":true}]},{"name":"dbt_stg.dbt_invocations","type":"BASE TABLE","columns":[{"name":"account_id","type":"varchar(4096)","nullable":true},{"name":"cause","type":"text","nullable":true},{"name":"cause_category","type":"varchar(4096)","nullable":true},{"name":"command","type":"varchar(4096)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_user","type":"varchar(4096)","nullable":true},{"name":"dbt_version","type":"varchar(4096)","nullable":true},{"name":"elementary_version","type":"varchar(4096)","nullable":true},{"name":"env","type":"varchar(4096)","nullable":true},{"name":"env_id","type":"varchar(4096)","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"git_sha","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"text","nullable":true},{"name":"invocation_vars","type":"text","nullable":true},{"name":"job_id","type":"text","nullable":true},{"name":"job_name","type":"text","nullable":true},{"name":"job_run_id","type":"text","nullable":true},{"name":"job_run_url","type":"varchar(4096)","nullable":true},{"name":"job_url","type":"varchar(4096)","nullable":true},{"name":"orchestrator","type":"varchar(4096)","nullable":true},{"name":"project_id","type":"varchar(4096)","nullable":true},{"name":"project_name","type":"varchar(4096)","nullable":true},{"name":"pull_request_id","type":"varchar(4096)","nullable":true},{"name":"run_completed_at","type":"varchar(4096)","nullable":true},{"name":"run_started_at","type":"varchar(4096)","nullable":true},{"name":"selected","type":"text","nullable":true},{"name":"target_adapter_specific_fields","type":"text","nullable":true},{"name":"target_database","type":"varchar(4096)","nullable":true},{"name":"target_name","type":"varchar(4096)","nullable":true},{"name":"target_profile_name","type":"varchar(4096)","nullable":true},{"name":"target_schema","type":"varchar(4096)","nullable":true},{"name":"threads","type":"integer","nullable":true},{"name":"vars","type":"text","nullable":true},{"name":"yaml_selector","type":"text","nullable":true}]},{"name":"dbt_stg.dbt_metrics","type":"BASE TABLE","columns":[{"name":"depends_on_macros","type":"text","nullable":true},{"name":"depends_on_nodes","type":"text","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"dimensions","type":"text","nullable":true},{"name":"filters","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"label","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"model","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"sql","type":"text","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"time_grains","type":"text","nullable":true},{"name":"timestamp","type":"varchar(4096)","nullable":true},{"name":"type","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_models","type":"BASE TABLE","columns":[{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"checksum","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"depends_on_macros","type":"text","nullable":true},{"name":"depends_on_nodes","type":"text","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"patch_path","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_run_results","type":"BASE TABLE","columns":[{"name":"adapter_response","type":"varchar(4096)","nullable":true},{"name":"compile_completed_at","type":"varchar(4096)","nullable":true},{"name":"compile_started_at","type":"varchar(4096)","nullable":true},{"name":"compiled_code","type":"text","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"execute_completed_at","type":"varchar(4096)","nullable":true},{"name":"execute_started_at","type":"varchar(4096)","nullable":true},{"name":"execution_time","type":"double precision","nullable":true},{"name":"failures","type":"bigint","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"message","type":"text","nullable":true},{"name":"model_execution_id","type":"text","nullable":true},{"name":"name","type":"text","nullable":true},{"name":"query_id","type":"varchar(4096)","nullable":true},{"name":"resource_type","type":"varchar(4096)","nullable":true},{"name":"rows_affected","type":"bigint","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"thread_id","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"text","nullable":true}]},{"name":"dbt_stg.dbt_seeds","type":"BASE TABLE","columns":[{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"checksum","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_snapshots","type":"BASE TABLE","columns":[{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"checksum","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"depends_on_macros","type":"text","nullable":true},{"name":"depends_on_nodes","type":"text","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"patch_path","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_source_freshness_results","type":"BASE TABLE","columns":[{"name":"compile_completed_at","type":"varchar(4096)","nullable":true},{"name":"compile_started_at","type":"varchar(4096)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"error","type":"varchar(4096)","nullable":true},{"name":"error_after","type":"varchar(4096)","nullable":true},{"name":"execute_completed_at","type":"varchar(4096)","nullable":true},{"name":"execute_started_at","type":"varchar(4096)","nullable":true},{"name":"filter","type":"text","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"max_loaded_at","type":"varchar(4096)","nullable":true},{"name":"max_loaded_at_time_ago_in_s","type":"double precision","nullable":true},{"name":"snapshotted_at","type":"varchar(4096)","nullable":true},{"name":"source_freshness_execution_id","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true},{"name":"warn_after","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_sources","type":"BASE TABLE","columns":[{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"freshness_description","type":"text","nullable":true},{"name":"freshness_error_after","type":"varchar(4096)","nullable":true},{"name":"freshness_filter","type":"text","nullable":true},{"name":"freshness_warn_after","type":"varchar(4096)","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"identifier","type":"varchar(4096)","nullable":true},{"name":"loaded_at_field","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"relation_name","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"source_description","type":"text","nullable":true},{"name":"source_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.dbt_tests","type":"BASE TABLE","columns":[{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"depends_on_macros","type":"text","nullable":true},{"name":"depends_on_nodes","type":"text","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"error_if","type":"varchar(4096)","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"meta","type":"text","nullable":true},{"name":"metadata_hash","type":"varchar(4096)","nullable":true},{"name":"model_owners","type":"text","nullable":true},{"name":"model_tags","type":"text","nullable":true},{"name":"name","type":"varchar(4096)","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"parent_model_unique_id","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"quality_dimension","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"severity","type":"varchar(4096)","nullable":true},{"name":"short_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"test_column_name","type":"varchar(4096)","nullable":true},{"name":"test_namespace","type":"varchar(4096)","nullable":true},{"name":"test_original_name","type":"varchar(4096)","nullable":true},{"name":"test_params","type":"text","nullable":true},{"name":"type","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"varchar(4096)","nullable":true},{"name":"warn_if","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.elementary_test_results","type":"BASE TABLE","columns":[{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"data_issue_id","type":"varchar(4096)","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"failed_row_count","type":"bigint","nullable":true},{"name":"failures","type":"bigint","nullable":true},{"name":"id","type":"text","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"model_unique_id","type":"text","nullable":true},{"name":"other","type":"varchar(4096)","nullable":true},{"name":"owners","type":"varchar(4096)","nullable":true},{"name":"result_rows","type":"text","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"severity","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"table_name","type":"varchar(4096)","nullable":true},{"name":"tags","type":"varchar(4096)","nullable":true},{"name":"test_alias","type":"varchar(4096)","nullable":true},{"name":"test_execution_id","type":"text","nullable":true},{"name":"test_name","type":"text","nullable":true},{"name":"test_params","type":"text","nullable":true},{"name":"test_results_description","type":"text","nullable":true},{"name":"test_results_query","type":"text","nullable":true},{"name":"test_short_name","type":"varchar(4096)","nullable":true},{"name":"test_sub_type","type":"varchar(4096)","nullable":true},{"name":"test_type","type":"varchar(4096)","nullable":true},{"name":"test_unique_id","type":"text","nullable":true}]},{"name":"dbt_stg.failed_tests","type":"BASE TABLE","columns":[{"name":"generated_at","type":"timestamp without time zone","nullable":true},{"name":"id","type":"text","nullable":true},{"name":"test_name","type":"varchar(4096)","nullable":true},{"name":"test_status","type":"varchar(4096)","nullable":true},{"name":"test_type","type":"varchar(4096)","nullable":true}]},{"name":"dbt_stg.job_run_results","type":"VIEW","columns":[{"name":"id","type":"text","nullable":true},{"name":"name","type":"text","nullable":true},{"name":"run_completed_at","type":"timestamp without time zone","nullable":true},{"name":"run_execution_time","type":"double precision","nullable":true},{"name":"run_id","type":"text","nullable":true},{"name":"run_started_at","type":"timestamp without time zone","nullable":true}],"def":"CREATE VIEW job_run_results AS (\n WITH jobs AS (\n         SELECT dbt_invocations.job_name,\n            dbt_invocations.job_id,\n            dbt_invocations.job_run_id,\n            min((dbt_invocations.run_started_at)::timestamp without time zone) AS job_run_started_at,\n            max((dbt_invocations.run_completed_at)::timestamp without time zone) AS job_run_completed_at,\n            ((((((((((((max((dbt_invocations.run_completed_at)::timestamp without time zone))::date - (min((dbt_invocations.run_started_at)::timestamp without time zone))::date) * 24))::double precision + date_part('hour'::text, max((dbt_invocations.run_completed_at)::timestamp without time zone))) - date_part('hour'::text, min((dbt_invocations.run_started_at)::timestamp without time zone))) * (60)::double precision) + date_part('minute'::text, max((dbt_invocations.run_completed_at)::timestamp without time zone))) - date_part('minute'::text, min((dbt_invocations.run_started_at)::timestamp without time zone))) * (60)::double precision) + floor(date_part('second'::text, max((dbt_invocations.run_completed_at)::timestamp without time zone)))) - floor(date_part('second'::text, min((dbt_invocations.run_started_at)::timestamp without time zone)))) AS job_run_execution_time\n           FROM dbt_stg.dbt_invocations\n          WHERE (dbt_invocations.job_id IS NOT NULL)\n          GROUP BY dbt_invocations.job_name, dbt_invocations.job_id, dbt_invocations.job_run_id\n        )\n SELECT job_name AS name,\n    job_id AS id,\n    job_run_id AS run_id,\n    job_run_started_at AS run_started_at,\n    job_run_completed_at AS run_completed_at,\n    job_run_execution_time AS run_execution_time\n   FROM jobs\n)","referenced_tables":["dbt_stg.dbt_invocations"]},{"name":"dbt_stg.metadata","type":"BASE TABLE","columns":[{"name":"dbt_pkg_version","type":"text","nullable":true}]},{"name":"dbt_stg.metrics_anomaly_score","type":"VIEW","columns":[{"name":"anomaly_score","type":"double precision","nullable":true},{"name":"bucket_end","type":"timestamp without time zone","nullable":true},{"name":"bucket_start","type":"timestamp without time zone","nullable":true},{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"dimension","type":"varchar(4096)","nullable":true},{"name":"dimension_value","type":"varchar(4096)","nullable":true},{"name":"full_table_name","type":"varchar(4096)","nullable":true},{"name":"id","type":"varchar(4096)","nullable":true},{"name":"is_anomaly","type":"boolean","nullable":true},{"name":"latest_metric_value","type":"double precision","nullable":true},{"name":"metric_name","type":"varchar(4096)","nullable":true},{"name":"training_avg","type":"double precision","nullable":true},{"name":"training_end","type":"timestamp without time zone","nullable":true},{"name":"training_set_size","type":"bigint","nullable":true},{"name":"training_start","type":"timestamp without time zone","nullable":true},{"name":"training_stddev","type":"double precision","nullable":true},{"name":"updated_at","type":"timestamp without time zone","nullable":true}],"def":"CREATE VIEW metrics_anomaly_score AS (\n WITH data_monitoring_metrics AS (\n         SELECT data_monitoring_metrics.id,\n            data_monitoring_metrics.full_table_name,\n            data_monitoring_metrics.column_name,\n            data_monitoring_metrics.metric_name,\n            data_monitoring_metrics.metric_type,\n            data_monitoring_metrics.metric_value,\n            data_monitoring_metrics.source_value,\n            data_monitoring_metrics.bucket_start,\n            data_monitoring_metrics.bucket_end,\n            data_monitoring_metrics.bucket_duration_hours,\n            data_monitoring_metrics.updated_at,\n            data_monitoring_metrics.dimension,\n            data_monitoring_metrics.dimension_value,\n            data_monitoring_metrics.metric_properties,\n            data_monitoring_metrics.created_at\n           FROM dbt_stg.data_monitoring_metrics\n        ), time_window_aggregation AS (\n         SELECT data_monitoring_metrics.id,\n            data_monitoring_metrics.full_table_name,\n            data_monitoring_metrics.column_name,\n            data_monitoring_metrics.dimension,\n            data_monitoring_metrics.dimension_value,\n            data_monitoring_metrics.metric_name,\n            data_monitoring_metrics.metric_value,\n            data_monitoring_metrics.source_value,\n            data_monitoring_metrics.bucket_start,\n            data_monitoring_metrics.bucket_end,\n            data_monitoring_metrics.bucket_duration_hours,\n            data_monitoring_metrics.updated_at,\n            avg(data_monitoring_metrics.metric_value) OVER (PARTITION BY data_monitoring_metrics.metric_name, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name ORDER BY data_monitoring_metrics.bucket_start ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS training_avg,\n            stddev(data_monitoring_metrics.metric_value) OVER (PARTITION BY data_monitoring_metrics.metric_name, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name ORDER BY data_monitoring_metrics.bucket_start ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS training_stddev,\n            count(data_monitoring_metrics.metric_value) OVER (PARTITION BY data_monitoring_metrics.metric_name, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name ORDER BY data_monitoring_metrics.bucket_start ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS training_set_size,\n            last_value(data_monitoring_metrics.bucket_end) OVER (PARTITION BY data_monitoring_metrics.metric_name, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name ORDER BY data_monitoring_metrics.bucket_start ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS training_end,\n            first_value(data_monitoring_metrics.bucket_end) OVER (PARTITION BY data_monitoring_metrics.metric_name, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name ORDER BY data_monitoring_metrics.bucket_start ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) AS training_start\n           FROM data_monitoring_metrics\n          GROUP BY data_monitoring_metrics.id, data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name, data_monitoring_metrics.dimension, data_monitoring_metrics.dimension_value, data_monitoring_metrics.metric_name, data_monitoring_metrics.metric_value, data_monitoring_metrics.source_value, data_monitoring_metrics.bucket_start, data_monitoring_metrics.bucket_end, data_monitoring_metrics.bucket_duration_hours, data_monitoring_metrics.updated_at\n        ), metrics_anomaly_score AS (\n         SELECT time_window_aggregation.id,\n            time_window_aggregation.full_table_name,\n            time_window_aggregation.column_name,\n            time_window_aggregation.dimension,\n            time_window_aggregation.dimension_value,\n            time_window_aggregation.metric_name,\n                CASE\n                    WHEN (time_window_aggregation.training_stddev IS NULL) THEN NULL::double precision\n                    WHEN (time_window_aggregation.training_stddev = (0)::double precision) THEN (0)::double precision\n                    ELSE ((time_window_aggregation.metric_value - time_window_aggregation.training_avg) / time_window_aggregation.training_stddev)\n                END AS anomaly_score,\n            time_window_aggregation.metric_value AS latest_metric_value,\n            time_window_aggregation.bucket_start,\n            time_window_aggregation.bucket_end,\n            time_window_aggregation.training_avg,\n            time_window_aggregation.training_stddev,\n            time_window_aggregation.training_start,\n            time_window_aggregation.training_end,\n            time_window_aggregation.training_set_size,\n            max(time_window_aggregation.updated_at) AS updated_at\n           FROM time_window_aggregation\n          WHERE ((time_window_aggregation.metric_value IS NOT NULL) AND (time_window_aggregation.training_avg IS NOT NULL) AND (time_window_aggregation.bucket_end \u003e= (date_trunc('day'::text, (CURRENT_TIMESTAMP)::timestamp without time zone) + (('-7'::integer)::double precision * '1 day'::interval))))\n          GROUP BY time_window_aggregation.id, time_window_aggregation.full_table_name, time_window_aggregation.column_name, time_window_aggregation.dimension, time_window_aggregation.dimension_value, time_window_aggregation.metric_name,\n                CASE\n                    WHEN (time_window_aggregation.training_stddev IS NULL) THEN NULL::double precision\n                    WHEN (time_window_aggregation.training_stddev = (0)::double precision) THEN (0)::double precision\n                    ELSE ((time_window_aggregation.metric_value - time_window_aggregation.training_avg) / time_window_aggregation.training_stddev)\n                END, time_window_aggregation.metric_value, time_window_aggregation.bucket_start, time_window_aggregation.bucket_end, time_window_aggregation.training_avg, time_window_aggregation.training_stddev, time_window_aggregation.training_start, time_window_aggregation.training_end, time_window_aggregation.training_set_size\n          ORDER BY time_window_aggregation.bucket_end DESC\n        ), final AS (\n         SELECT metrics_anomaly_score.id,\n            metrics_anomaly_score.full_table_name,\n            metrics_anomaly_score.column_name,\n            metrics_anomaly_score.dimension,\n            metrics_anomaly_score.dimension_value,\n            metrics_anomaly_score.metric_name,\n            metrics_anomaly_score.anomaly_score,\n            metrics_anomaly_score.latest_metric_value,\n            metrics_anomaly_score.bucket_start,\n            metrics_anomaly_score.bucket_end,\n            metrics_anomaly_score.training_avg,\n            metrics_anomaly_score.training_stddev,\n            metrics_anomaly_score.training_start,\n            metrics_anomaly_score.training_end,\n            metrics_anomaly_score.training_set_size,\n            metrics_anomaly_score.updated_at,\n                CASE\n                    WHEN (abs(metrics_anomaly_score.anomaly_score) \u003e (3)::double precision) THEN true\n                    ELSE false\n                END AS is_anomaly\n           FROM metrics_anomaly_score\n        )\n SELECT id,\n    full_table_name,\n    column_name,\n    dimension,\n    dimension_value,\n    metric_name,\n    anomaly_score,\n    latest_metric_value,\n    bucket_start,\n    bucket_end,\n    training_avg,\n    training_stddev,\n    training_start,\n    training_end,\n    training_set_size,\n    updated_at,\n    is_anomaly\n   FROM final\n)","referenced_tables":["dbt_stg.data_monitoring_metrics","time_window_aggregation","metrics_anomaly_score","final"]},{"name":"dbt_stg.model_run_results","type":"VIEW","columns":[{"name":"adapter_response","type":"varchar(4096)","nullable":true},{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"compile_completed_at","type":"varchar(4096)","nullable":true},{"name":"compile_started_at","type":"varchar(4096)","nullable":true},{"name":"compiled_code","type":"text","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"execute_completed_at","type":"varchar(4096)","nullable":true},{"name":"execute_started_at","type":"varchar(4096)","nullable":true},{"name":"execution_time","type":"double precision","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"is_the_first_invocation_of_the_day","type":"boolean","nullable":true},{"name":"is_the_last_invocation_of_the_day","type":"boolean","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"message","type":"text","nullable":true},{"name":"model_execution_id","type":"text","nullable":true},{"name":"model_invocation_reverse_index","type":"bigint","nullable":true},{"name":"name","type":"text","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"query_id","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"thread_id","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"text","nullable":true}],"def":"CREATE VIEW model_run_results AS (\n WITH dbt_run_results AS (\n         SELECT dbt_run_results.model_execution_id,\n            dbt_run_results.unique_id,\n            dbt_run_results.invocation_id,\n            dbt_run_results.generated_at,\n            dbt_run_results.created_at,\n            dbt_run_results.name,\n            dbt_run_results.message,\n            dbt_run_results.status,\n            dbt_run_results.resource_type,\n            dbt_run_results.execution_time,\n            dbt_run_results.execute_started_at,\n            dbt_run_results.execute_completed_at,\n            dbt_run_results.compile_started_at,\n            dbt_run_results.compile_completed_at,\n            dbt_run_results.rows_affected,\n            dbt_run_results.full_refresh,\n            dbt_run_results.compiled_code,\n            dbt_run_results.failures,\n            dbt_run_results.query_id,\n            dbt_run_results.thread_id,\n            dbt_run_results.materialization,\n            dbt_run_results.adapter_response\n           FROM dbt_stg.dbt_run_results\n        ), dbt_models AS (\n         SELECT dbt_models.unique_id,\n            dbt_models.alias,\n            dbt_models.checksum,\n            dbt_models.materialization,\n            dbt_models.tags,\n            dbt_models.meta,\n            dbt_models.owner,\n            dbt_models.database_name,\n            dbt_models.schema_name,\n            dbt_models.depends_on_macros,\n            dbt_models.depends_on_nodes,\n            dbt_models.description,\n            dbt_models.name,\n            dbt_models.package_name,\n            dbt_models.original_path,\n            dbt_models.path,\n            dbt_models.patch_path,\n            dbt_models.generated_at,\n            dbt_models.metadata_hash\n           FROM dbt_stg.dbt_models\n        )\n SELECT run_results.model_execution_id,\n    run_results.unique_id,\n    run_results.invocation_id,\n    run_results.query_id,\n    run_results.name,\n    run_results.generated_at,\n    run_results.status,\n    run_results.full_refresh,\n    run_results.message,\n    run_results.execution_time,\n    run_results.execute_started_at,\n    run_results.execute_completed_at,\n    run_results.compile_started_at,\n    run_results.compile_completed_at,\n    run_results.compiled_code,\n    run_results.adapter_response,\n    run_results.thread_id,\n    models.database_name,\n    models.schema_name,\n    COALESCE(run_results.materialization, models.materialization) AS materialization,\n    models.tags,\n    models.package_name,\n    models.path,\n    models.original_path,\n    models.owner,\n    models.alias,\n    row_number() OVER (PARTITION BY run_results.unique_id ORDER BY run_results.generated_at DESC) AS model_invocation_reverse_index,\n        CASE\n            WHEN ((first_value(run_results.invocation_id) OVER (PARTITION BY (date_trunc('day'::text, (run_results.generated_at)::timestamp without time zone)) ORDER BY run_results.generated_at ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING))::text = (run_results.invocation_id)::text) THEN true\n            ELSE false\n        END AS is_the_first_invocation_of_the_day,\n        CASE\n            WHEN ((last_value(run_results.invocation_id) OVER (PARTITION BY (date_trunc('day'::text, (run_results.generated_at)::timestamp without time zone)) ORDER BY run_results.generated_at ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING))::text = (run_results.invocation_id)::text) THEN true\n            ELSE false\n        END AS is_the_last_invocation_of_the_day\n   FROM (dbt_run_results run_results\n     JOIN dbt_models models ON ((run_results.unique_id = (models.unique_id)::text)))\n)","referenced_tables":["dbt_stg.dbt_run_results","dbt_stg.dbt_models","dbt_models"]},{"name":"dbt_stg.monitors_runs","type":"VIEW","columns":[{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"first_bucket_end","type":"timestamp without time zone","nullable":true},{"name":"full_table_name","type":"varchar(4096)","nullable":true},{"name":"last_bucket_end","type":"timestamp without time zone","nullable":true},{"name":"metric_name","type":"varchar(4096)","nullable":true},{"name":"metric_properties","type":"varchar(4096)","nullable":true}],"def":"CREATE VIEW monitors_runs AS (\n WITH data_monitoring_metrics AS (\n         SELECT data_monitoring_metrics.id,\n            data_monitoring_metrics.full_table_name,\n            data_monitoring_metrics.column_name,\n            data_monitoring_metrics.metric_name,\n            data_monitoring_metrics.metric_type,\n            data_monitoring_metrics.metric_value,\n            data_monitoring_metrics.source_value,\n            data_monitoring_metrics.bucket_start,\n            data_monitoring_metrics.bucket_end,\n            data_monitoring_metrics.bucket_duration_hours,\n            data_monitoring_metrics.updated_at,\n            data_monitoring_metrics.dimension,\n            data_monitoring_metrics.dimension_value,\n            data_monitoring_metrics.metric_properties,\n            data_monitoring_metrics.created_at\n           FROM dbt_stg.data_monitoring_metrics\n        ), max_bucket_end AS (\n         SELECT data_monitoring_metrics.full_table_name,\n            data_monitoring_metrics.column_name,\n            data_monitoring_metrics.metric_name,\n            data_monitoring_metrics.metric_properties,\n            max(data_monitoring_metrics.bucket_end) AS last_bucket_end,\n            min(data_monitoring_metrics.bucket_end) AS first_bucket_end\n           FROM data_monitoring_metrics\n          GROUP BY data_monitoring_metrics.full_table_name, data_monitoring_metrics.column_name, data_monitoring_metrics.metric_name, data_monitoring_metrics.metric_properties\n        )\n SELECT full_table_name,\n    column_name,\n    metric_name,\n    metric_properties,\n    last_bucket_end,\n    first_bucket_end\n   FROM max_bucket_end\n)","referenced_tables":["dbt_stg.data_monitoring_metrics","max_bucket_end"]},{"name":"dbt_stg.ohshit","type":"BASE TABLE","columns":[{"name":"end_date","type":"date","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"start_date","type":"date","nullable":true}]},{"name":"dbt_stg.orders_snapshot","type":"BASE TABLE","columns":[{"name":"amount","type":"numeric(10,2)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_scd_id","type":"text","nullable":true},{"name":"dbt_updated_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_valid_from","type":"timestamp without time zone","nullable":true},{"name":"dbt_valid_to","type":"timestamp without time zone","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"invoice_id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"payment_type_detail","type":"varchar(100)","nullable":true},{"name":"payment_type_id","type":"integer","nullable":true}]},{"name":"dbt_stg.schema_columns_snapshot","type":"BASE TABLE","columns":[{"name":"column_name","type":"varchar(4096)","nullable":true},{"name":"column_state_id","type":"varchar(4096)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"data_type","type":"varchar(4096)","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"full_column_name","type":"varchar(4096)","nullable":true},{"name":"full_table_name","type":"varchar(4096)","nullable":true},{"name":"is_new","type":"boolean","nullable":true}]},{"name":"dbt_stg.seed_run_results","type":"VIEW","columns":[{"name":"adapter_response","type":"varchar(4096)","nullable":true},{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"compile_completed_at","type":"varchar(4096)","nullable":true},{"name":"compile_started_at","type":"varchar(4096)","nullable":true},{"name":"compiled_code","type":"text","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"execute_completed_at","type":"varchar(4096)","nullable":true},{"name":"execute_started_at","type":"varchar(4096)","nullable":true},{"name":"execution_time","type":"double precision","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"message","type":"text","nullable":true},{"name":"model_execution_id","type":"text","nullable":true},{"name":"name","type":"text","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"query_id","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"thread_id","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"text","nullable":true}],"def":"CREATE VIEW seed_run_results AS (\n WITH dbt_run_results AS (\n         SELECT dbt_run_results.model_execution_id,\n            dbt_run_results.unique_id,\n            dbt_run_results.invocation_id,\n            dbt_run_results.generated_at,\n            dbt_run_results.created_at,\n            dbt_run_results.name,\n            dbt_run_results.message,\n            dbt_run_results.status,\n            dbt_run_results.resource_type,\n            dbt_run_results.execution_time,\n            dbt_run_results.execute_started_at,\n            dbt_run_results.execute_completed_at,\n            dbt_run_results.compile_started_at,\n            dbt_run_results.compile_completed_at,\n            dbt_run_results.rows_affected,\n            dbt_run_results.full_refresh,\n            dbt_run_results.compiled_code,\n            dbt_run_results.failures,\n            dbt_run_results.query_id,\n            dbt_run_results.thread_id,\n            dbt_run_results.materialization,\n            dbt_run_results.adapter_response\n           FROM dbt_stg.dbt_run_results\n        ), dbt_seeds AS (\n         SELECT dbt_seeds.unique_id,\n            dbt_seeds.alias,\n            dbt_seeds.checksum,\n            dbt_seeds.tags,\n            dbt_seeds.meta,\n            dbt_seeds.owner,\n            dbt_seeds.database_name,\n            dbt_seeds.schema_name,\n            dbt_seeds.description,\n            dbt_seeds.name,\n            dbt_seeds.package_name,\n            dbt_seeds.original_path,\n            dbt_seeds.path,\n            dbt_seeds.generated_at,\n            dbt_seeds.metadata_hash\n           FROM dbt_stg.dbt_seeds\n        )\n SELECT run_results.model_execution_id,\n    run_results.unique_id,\n    run_results.invocation_id,\n    run_results.query_id,\n    run_results.name,\n    run_results.generated_at,\n    run_results.status,\n    run_results.full_refresh,\n    run_results.message,\n    run_results.execution_time,\n    run_results.execute_started_at,\n    run_results.execute_completed_at,\n    run_results.compile_started_at,\n    run_results.compile_completed_at,\n    run_results.compiled_code,\n    run_results.adapter_response,\n    run_results.thread_id,\n    seeds.database_name,\n    seeds.schema_name,\n    run_results.materialization,\n    seeds.tags,\n    seeds.package_name,\n    seeds.path,\n    seeds.original_path,\n    seeds.owner,\n    seeds.alias\n   FROM (dbt_run_results run_results\n     JOIN dbt_seeds seeds ON ((run_results.unique_id = (seeds.unique_id)::text)))\n)","referenced_tables":["dbt_stg.dbt_run_results","dbt_stg.dbt_seeds","dbt_seeds"]},{"name":"dbt_stg.snapshot_run_results","type":"VIEW","columns":[{"name":"adapter_response","type":"varchar(4096)","nullable":true},{"name":"alias","type":"varchar(4096)","nullable":true},{"name":"compile_completed_at","type":"varchar(4096)","nullable":true},{"name":"compile_started_at","type":"varchar(4096)","nullable":true},{"name":"compiled_code","type":"text","nullable":true},{"name":"database_name","type":"varchar(4096)","nullable":true},{"name":"execute_completed_at","type":"varchar(4096)","nullable":true},{"name":"execute_started_at","type":"varchar(4096)","nullable":true},{"name":"execution_time","type":"double precision","nullable":true},{"name":"full_refresh","type":"boolean","nullable":true},{"name":"generated_at","type":"varchar(4096)","nullable":true},{"name":"invocation_id","type":"varchar(4096)","nullable":true},{"name":"materialization","type":"varchar(4096)","nullable":true},{"name":"message","type":"text","nullable":true},{"name":"model_execution_id","type":"text","nullable":true},{"name":"name","type":"text","nullable":true},{"name":"original_path","type":"text","nullable":true},{"name":"owner","type":"varchar(4096)","nullable":true},{"name":"package_name","type":"varchar(4096)","nullable":true},{"name":"path","type":"varchar(4096)","nullable":true},{"name":"query_id","type":"varchar(4096)","nullable":true},{"name":"schema_name","type":"varchar(4096)","nullable":true},{"name":"status","type":"varchar(4096)","nullable":true},{"name":"tags","type":"text","nullable":true},{"name":"thread_id","type":"varchar(4096)","nullable":true},{"name":"unique_id","type":"text","nullable":true}],"def":"CREATE VIEW snapshot_run_results AS (\n WITH dbt_run_results AS (\n         SELECT dbt_run_results.model_execution_id,\n            dbt_run_results.unique_id,\n            dbt_run_results.invocation_id,\n            dbt_run_results.generated_at,\n            dbt_run_results.created_at,\n            dbt_run_results.name,\n            dbt_run_results.message,\n            dbt_run_results.status,\n            dbt_run_results.resource_type,\n            dbt_run_results.execution_time,\n            dbt_run_results.execute_started_at,\n            dbt_run_results.execute_completed_at,\n            dbt_run_results.compile_started_at,\n            dbt_run_results.compile_completed_at,\n            dbt_run_results.rows_affected,\n            dbt_run_results.full_refresh,\n            dbt_run_results.compiled_code,\n            dbt_run_results.failures,\n            dbt_run_results.query_id,\n            dbt_run_results.thread_id,\n            dbt_run_results.materialization,\n            dbt_run_results.adapter_response\n           FROM dbt_stg.dbt_run_results\n        ), dbt_snapshots AS (\n         SELECT dbt_snapshots.unique_id,\n            dbt_snapshots.alias,\n            dbt_snapshots.checksum,\n            dbt_snapshots.materialization,\n            dbt_snapshots.tags,\n            dbt_snapshots.meta,\n            dbt_snapshots.owner,\n            dbt_snapshots.database_name,\n            dbt_snapshots.schema_name,\n            dbt_snapshots.depends_on_macros,\n            dbt_snapshots.depends_on_nodes,\n            dbt_snapshots.description,\n            dbt_snapshots.name,\n            dbt_snapshots.package_name,\n            dbt_snapshots.original_path,\n            dbt_snapshots.path,\n            dbt_snapshots.patch_path,\n            dbt_snapshots.generated_at,\n            dbt_snapshots.metadata_hash\n           FROM dbt_stg.dbt_snapshots\n        )\n SELECT run_results.model_execution_id,\n    run_results.unique_id,\n    run_results.invocation_id,\n    run_results.query_id,\n    run_results.name,\n    run_results.generated_at,\n    run_results.status,\n    run_results.full_refresh,\n    run_results.message,\n    run_results.execution_time,\n    run_results.execute_started_at,\n    run_results.execute_completed_at,\n    run_results.compile_started_at,\n    run_results.compile_completed_at,\n    run_results.compiled_code,\n    run_results.adapter_response,\n    run_results.thread_id,\n    snapshots.database_name,\n    snapshots.schema_name,\n    COALESCE(run_results.materialization, snapshots.materialization) AS materialization,\n    snapshots.tags,\n    snapshots.package_name,\n    snapshots.path,\n    snapshots.original_path,\n    snapshots.owner,\n    snapshots.alias\n   FROM (dbt_run_results run_results\n     JOIN dbt_snapshots snapshots ON ((run_results.unique_id = (snapshots.unique_id)::text)))\n)","referenced_tables":["dbt_stg.dbt_run_results","dbt_stg.dbt_snapshots","dbt_snapshots"]},{"name":"dbt_stg.test_result_rows","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"detected_at","type":"timestamp without time zone","nullable":true},{"name":"elementary_test_results_id","type":"text","nullable":true},{"name":"result_row","type":"text","nullable":true}],"indexes":[{"name":"338577445ba07af9896723ee69c82f51","def":"CREATE INDEX \"338577445ba07af9896723ee69c82f51\" ON dbt_stg.test_result_rows USING btree (created_at)","table":"dbt_stg.test_result_rows","columns":["created_at"]}]},{"name":"dim.dim_customers","type":"BASE TABLE","columns":[{"name":"address","type":"varchar(100)","nullable":true},{"name":"address_2","type":"varchar(100)","nullable":true},{"name":"audit_id","type":"integer","nullable":true},{"name":"city","type":"varchar(50)","nullable":true},{"name":"country","type":"varchar(50)","nullable":true},{"name":"customer_email","type":"varchar(100)","nullable":true},{"name":"customer_id","type":"integer","nullable":true},{"name":"customer_name","type":"varchar(100)","nullable":true},{"name":"dbt_updated_at","type":"timestamp with time zone","nullable":true},{"name":"is_current_record","type":"integer","nullable":true},{"name":"is_deleted","type":"integer","nullable":true},{"name":"is_latest_record","type":"integer","nullable":true},{"name":"state","type":"varchar(3)","nullable":true},{"name":"valid_from","type":"timestamp without time zone","nullable":true},{"name":"valid_to","type":"timestamp without time zone","nullable":true},{"name":"zip_code","type":"integer","nullable":true}],"indexes":[{"name":"1c31127c6bbe5caa0339377d16cf7b68","def":"CREATE INDEX \"1c31127c6bbe5caa0339377d16cf7b68\" ON dim.dim_customers USING btree (customer_id)","table":"dim.dim_customers","columns":["customer_id"]}]},{"name":"dim.dim_financial_accounts","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"financial_account_description","type":"text","nullable":true},{"name":"financial_account_id","type":"integer","nullable":true},{"name":"financial_account_name","type":"varchar(100)","nullable":true},{"name":"financial_account_type","type":"source.financial_account_enum","nullable":true},{"name":"is_active","type":"boolean","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true}]},{"name":"dim.dim_integrations","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"customer_email","type":"varchar(100)","nullable":true},{"name":"customer_id","type":"integer","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"integration_type","type":"source.integration_enum","nullable":true},{"name":"is_active","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true}]},{"name":"dim.dim_payment_types","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"financial_account_id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"payment_type","type":"source.payment_enum","nullable":true},{"name":"payment_type_description","type":"varchar(100)","nullable":true},{"name":"payment_type_id","type":"integer","nullable":true}]},{"name":"dim.dim_products","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"product_category_name","type":"varchar(100)","nullable":true},{"name":"product_id","type":"integer","nullable":true},{"name":"product_name","type":"varchar(100)","nullable":true}]},{"name":"dim.dim_stores","type":"BASE TABLE","columns":[{"name":"city","type":"varchar(100)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"is_shipping_enabled_state","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"state","type":"varchar(2)","nullable":true},{"name":"store_id","type":"integer","nullable":true},{"name":"store_name","type":"varchar(100)","nullable":true},{"name":"street","type":"varchar(100)","nullable":true},{"name":"zip_code","type":"integer","nullable":true}]},{"name":"fact.fact_emails","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_created_at","type":"timestamp with time zone","nullable":true},{"name":"email_id","type":"integer","nullable":true},{"name":"email_name","type":"varchar(100)","nullable":true},{"name":"messages","type":"json","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true}]},{"name":"fact.fact_orders_detailed","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"order_detail_created_at","type":"timestamp without time zone","nullable":true},{"name":"order_detail_id","type":"integer","nullable":true},{"name":"order_detail_modified_at","type":"timestamp without time zone","nullable":true},{"name":"order_id","type":"integer","nullable":true},{"name":"product_category_id","type":"integer","nullable":true},{"name":"product_id","type":"integer","nullable":true},{"name":"product_price","type":"numeric(10,2)","nullable":true},{"name":"product_price_id","type":"integer","nullable":true},{"name":"quantity","type":"integer","nullable":true},{"name":"store_id","type":"integer","nullable":true}]},{"name":"fact.fact_orders_external_system","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"order_id","type":"integer","nullable":true},{"name":"sale_id","type":"integer","nullable":true},{"name":"source_address","type":"text","nullable":true},{"name":"source_state","type":"text","nullable":true},{"name":"source_store","type":"text","nullable":true},{"name":"source_timestamp","type":"timestamp without time zone","nullable":true},{"name":"source_zip_code","type":"integer","nullable":true}]},{"name":"fact.fact_orders_generalized","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"invoice_created_at","type":"timestamp without time zone","nullable":true},{"name":"invoice_id","type":"integer","nullable":true},{"name":"invoice_modified_at","type":"timestamp without time zone","nullable":true},{"name":"invoice_total_amount","type":"numeric(10,2)","nullable":true},{"name":"order_created_at","type":"timestamp without time zone","nullable":true},{"name":"order_id","type":"integer","nullable":true},{"name":"order_modified_at","type":"timestamp without time zone","nullable":true},{"name":"store_id","type":"integer","nullable":true}]},{"name":"fact.fact_payments","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"financial_account_id","type":"integer","nullable":true},{"name":"invoice_id","type":"integer","nullable":true},{"name":"order_id","type":"integer","nullable":true},{"name":"payment_amount","type":"numeric(10,2)","nullable":true},{"name":"payment_created_at","type":"timestamp without time zone","nullable":true},{"name":"payment_id","type":"integer","nullable":true},{"name":"payment_modified_at","type":"timestamp without time zone","nullable":true},{"name":"payment_type_id","type":"integer","nullable":true}]},{"name":"fact.fact_product_prices","type":"BASE TABLE","columns":[{"name":"is_active","type":"boolean","nullable":true},{"name":"price","type":"numeric(10,2)","nullable":true},{"name":"product_id","type":"integer","nullable":true},{"name":"product_price_created_at","type":"timestamp without time zone","nullable":true},{"name":"product_price_id","type":"integer","nullable":true},{"name":"product_price_modified_at","type":"timestamp without time zone","nullable":true},{"name":"valid_from","type":"timestamp without time zone","nullable":true},{"name":"valid_to","type":"timestamp without time zone","nullable":true}]},{"name":"marts.accounting_by_state_agg","type":"BASE TABLE","columns":[{"name":"as_of_date","type":"date","nullable":true},{"name":"financial_account_name","type":"varchar(100)","nullable":true},{"name":"state","type":"varchar(2)","nullable":true},{"name":"total_account_amount","type":"numeric","nullable":true}]},{"name":"marts.accounting_by_store_agg","type":"BASE TABLE","columns":[{"name":"as_of_date","type":"date","nullable":true},{"name":"financial_account_name","type":"varchar(100)","nullable":true},{"name":"store_name","type":"varchar(100)","nullable":true},{"name":"total_account_amount","type":"numeric","nullable":true}]},{"name":"marts.customer_integration_history_scd2","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"integration_type","type":"text","nullable":true},{"name":"is_active","type":"integer","nullable":true},{"name":"is_current_integration_record","type":"integer","nullable":true},{"name":"valid_from","type":"timestamp without time zone","nullable":true},{"name":"valid_to","type":"timestamp without time zone","nullable":true}]},{"name":"marts.customer_payments_by_invoice","type":"BASE TABLE","columns":[{"name":"customer_id","type":"integer","nullable":true},{"name":"invoice_created_at","type":"timestamp without time zone","nullable":true},{"name":"invoice_id","type":"integer","nullable":true},{"name":"invoice_modified_at","type":"timestamp without time zone","nullable":true},{"name":"invoice_paid_amount","type":"numeric","nullable":true},{"name":"invoice_total_amount","type":"numeric(10,2)","nullable":true},{"name":"is_invoice_closed","type":"integer","nullable":true},{"name":"order_created_at","type":"timestamp without time zone","nullable":true},{"name":"order_id","type":"integer","nullable":true},{"name":"order_modified_at","type":"timestamp without time zone","nullable":true},{"name":"store_id","type":"integer","nullable":true}]},{"name":"marts.customers_to_email","type":"BASE TABLE","columns":[{"name":"customer_email","type":"varchar(100)","nullable":true},{"name":"customer_name","type":"varchar(100)","nullable":true},{"name":"order_detail_id","type":"integer","nullable":true},{"name":"product_category_name","type":"varchar(100)","nullable":true},{"name":"product_name","type":"varchar(100)","nullable":true}]},{"name":"marts.emails_subject_cols","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_created_at","type":"timestamp with time zone","nullable":true},{"name":"email_id","type":"integer","nullable":true},{"name":"email_name","type":"varchar(100)","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"subject_1","type":"text","nullable":true},{"name":"subject_2","type":"text","nullable":true},{"name":"subject_3","type":"text","nullable":true},{"name":"subject_4","type":"text","nullable":true}]},{"name":"marts.emails_subject_concat","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"dbt_created_at","type":"timestamp without time zone","nullable":true},{"name":"email_id","type":"integer","nullable":true},{"name":"email_name","type":"varchar(100)","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"subjects","type":"text","nullable":true}]},{"name":"marts.incremental_pk_tester","type":"BASE TABLE","columns":[{"name":"added_at","type":"timestamp with time zone","nullable":true},{"name":"c_id","type":"integer","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true}]},{"name":"marts.incremental_pk_tester_merge_only","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"customer_id","type":"integer","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"store_id","type":"integer","nullable":true}]},{"name":"marts.incremental_tester","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true},{"name":"customer_id","type":"integer","nullable":true},{"name":"id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true},{"name":"store_id","type":"integer","nullable":true}]},{"name":"marts.most_popular_products_agg","type":"BASE TABLE","columns":[{"name":"product_category_name","type":"varchar(100)","nullable":true},{"name":"product_name","type":"varchar(100)","nullable":true},{"name":"units_sold","type":"bigint","nullable":true}]},{"name":"marts.most_popular_products_by_store_agg","type":"BASE TABLE","columns":[{"name":"product_category_name","type":"varchar(100)","nullable":true},{"name":"product_name","type":"varchar(100)","nullable":true},{"name":"store_name","type":"varchar(100)","nullable":true},{"name":"units_sold","type":"bigint","nullable":true}]},{"name":"marts.outstanding_invoices","type":"BASE TABLE","columns":[{"name":"customer_email","type":"varchar","nullable":true},{"name":"customer_name","type":"varchar","nullable":true},{"name":"invoice_created_at","type":"timestamp without time zone","nullable":true},{"name":"invoice_id","type":"integer","nullable":true},{"name":"invoice_paid_amount","type":"numeric","nullable":true},{"name":"invoice_remaining_balance","type":"numeric","nullable":true},{"name":"invoice_total_amount","type":"numeric","nullable":true},{"name":"latest_payment_made","type":"timestamp without time zone","nullable":true}]},{"name":"source.customer","type":"BASE TABLE","columns":[{"name":"address","type":"varchar(100)","nullable":true},{"name":"address_2","type":"varchar(100)","nullable":true},{"name":"city","type":"varchar(50)","nullable":true},{"name":"country","type":"varchar(50)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"customer_email","type":"varchar(100)","nullable":true},{"name":"customer_name","type":"varchar(100)","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.customer_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"state","type":"varchar(3)","nullable":true},{"name":"zip_code","type":"integer","nullable":true}],"indexes":[{"name":"customer_pkey","def":"CREATE UNIQUE INDEX customer_pkey ON source.customer USING btree (id)","table":"source.customer","columns":["id"]}],"constraints":[{"name":"customer_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.customer","referenced_table":"","columns":["id"]}]},{"name":"source.customer_audit","type":"BASE TABLE","columns":[{"name":"address","type":"varchar(100)","nullable":true},{"name":"address_2","type":"varchar(100)","nullable":true},{"name":"audit_type","type":"integer","nullable":true},{"name":"city","type":"varchar(50)","nullable":true},{"name":"country","type":"varchar(50)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"customer_email","type":"varchar(100)","nullable":true},{"name":"customer_id","type":"integer","nullable":true},{"name":"customer_name","type":"varchar(100)","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.customer_audit_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"state","type":"varchar(3)","nullable":true},{"name":"zip_code","type":"integer","nullable":true}],"indexes":[{"name":"customer_audit_pkey","def":"CREATE UNIQUE INDEX customer_audit_pkey ON source.customer_audit USING btree (id)","table":"source.customer_audit","columns":["id"]}],"constraints":[{"name":"customer_audit_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.customer_audit","referenced_table":"","columns":["id"]}]},{"name":"source.emails","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"email_name","type":"varchar(100)","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.emails_id_seq'::regclass)"},{"name":"messages","type":"json","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"emails_pkey","def":"CREATE UNIQUE INDEX emails_pkey ON source.emails USING btree (id)","table":"source.emails","columns":["id"]}],"constraints":[{"name":"emails_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.emails","referenced_table":"","columns":["id"]}]},{"name":"source.financial_account","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"financial_account_description","type":"text","nullable":true},{"name":"financial_account_name","type":"varchar(100)","nullable":false},{"name":"financial_account_type","type":"source.financial_account_enum","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.financial_account_id_seq'::regclass)"},{"name":"is_active","type":"boolean","nullable":true,"default":"true"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"financial_account_pkey","def":"CREATE UNIQUE INDEX financial_account_pkey ON source.financial_account USING btree (id)","table":"source.financial_account","columns":["id"]}],"constraints":[{"name":"financial_account_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.financial_account","referenced_table":"","columns":["id"]}]},{"name":"source.integration","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"customer_id","type":"integer","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.integration_id_seq'::regclass)"},{"name":"integration_type","type":"source.integration_enum","nullable":true},{"name":"is_active","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"integration_pkey","def":"CREATE UNIQUE INDEX integration_pkey ON source.integration USING btree (id)","table":"source.integration","columns":["id"]}],"constraints":[{"name":"integration_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.integration","referenced_table":"","columns":["id"]}]},{"name":"source.invoice","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"currency","type":"varchar(3)","nullable":true,"default":"'USD'::character varying"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.invoice_id_seq'::regclass)"},{"name":"is_voided","type":"boolean","nullable":true,"default":"false"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"order_id","type":"integer","nullable":true},{"name":"total_amount","type":"numeric(10,2)","nullable":false}],"indexes":[{"name":"invoice_pkey","def":"CREATE UNIQUE INDEX invoice_pkey ON source.invoice USING btree (id)","table":"source.invoice","columns":["id"]}],"constraints":[{"name":"fk_order_id","type":"FOREIGN KEY","def":"FOREIGN KEY (order_id) REFERENCES source.\"order\"(id)","table":"source.invoice","referenced_table":"order","columns":["order_id"],"referenced_columns":["id"]},{"name":"invoice_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.invoice","referenced_table":"","columns":["id"]}]},{"name":"source.order","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"customer_id","type":"integer","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.order_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"store_id","type":"integer","nullable":true}],"indexes":[{"name":"order_pkey","def":"CREATE UNIQUE INDEX order_pkey ON source.\"order\" USING btree (id)","table":"source.order","columns":["id"]}],"constraints":[{"name":"fk_customer_id","type":"FOREIGN KEY","def":"FOREIGN KEY (customer_id) REFERENCES source.customer(id)","table":"source.order","referenced_table":"customer","columns":["customer_id"],"referenced_columns":["id"]},{"name":"fk_store_id","type":"FOREIGN KEY","def":"FOREIGN KEY (store_id) REFERENCES source.store(id)","table":"source.order","referenced_table":"store","columns":["store_id"],"referenced_columns":["id"]},{"name":"order_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.order","referenced_table":"","columns":["id"]}]},{"name":"source.order_detail","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.order_detail_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"order_id","type":"integer","nullable":false},{"name":"product_id","type":"integer","nullable":false},{"name":"product_price_id","type":"integer","nullable":false},{"name":"quantity","type":"integer","nullable":false}],"indexes":[{"name":"order_detail_pkey","def":"CREATE UNIQUE INDEX order_detail_pkey ON source.order_detail USING btree (id)","table":"source.order_detail","columns":["id"]}],"constraints":[{"name":"fk_order_id","type":"FOREIGN KEY","def":"FOREIGN KEY (order_id) REFERENCES source.\"order\"(id)","table":"source.order_detail","referenced_table":"order","columns":["order_id"],"referenced_columns":["id"]},{"name":"fk_product_id","type":"FOREIGN KEY","def":"FOREIGN KEY (product_id) REFERENCES source.product(id)","table":"source.order_detail","referenced_table":"product","columns":["product_id"],"referenced_columns":["id"]},{"name":"fk_product_price_id","type":"FOREIGN KEY","def":"FOREIGN KEY (product_price_id) REFERENCES source.product_price(id)","table":"source.order_detail","referenced_table":"product_price","columns":["product_price_id"],"referenced_columns":["id"]},{"name":"order_detail_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.order_detail","referenced_table":"","columns":["id"]}]},{"name":"source.order_json","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"external_data","type":"json","nullable":false},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.order_json_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"order_json_pkey","def":"CREATE UNIQUE INDEX order_json_pkey ON source.order_json USING btree (id)","table":"source.order_json","columns":["id"]}],"constraints":[{"name":"order_json_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.order_json","referenced_table":"","columns":["id"]}]},{"name":"source.payment","type":"BASE TABLE","columns":[{"name":"amount","type":"numeric(10,2)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.payment_id_seq'::regclass)"},{"name":"invoice_id","type":"integer","nullable":true},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"payment_type_detail","type":"varchar(100)","nullable":true},{"name":"payment_type_id","type":"integer","nullable":true}],"indexes":[{"name":"payment_pkey","def":"CREATE UNIQUE INDEX payment_pkey ON source.payment USING btree (id)","table":"source.payment","columns":["id"]}],"constraints":[{"name":"fk_invoice_id","type":"FOREIGN KEY","def":"FOREIGN KEY (invoice_id) REFERENCES source.invoice(id)","table":"source.payment","referenced_table":"invoice","columns":["invoice_id"],"referenced_columns":["id"]},{"name":"fk_payment_type_id","type":"FOREIGN KEY","def":"FOREIGN KEY (payment_type_id) REFERENCES source.payment_type(id)","table":"source.payment","referenced_table":"payment_type","columns":["payment_type_id"],"referenced_columns":["id"]},{"name":"payment_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.payment","referenced_table":"","columns":["id"]}]},{"name":"source.payment_type","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"financial_account_id","type":"integer","nullable":false},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.payment_type_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"payment_type","type":"source.payment_enum","nullable":true},{"name":"payment_type_description","type":"varchar(100)","nullable":true}],"indexes":[{"name":"payment_type_pkey","def":"CREATE UNIQUE INDEX payment_type_pkey ON source.payment_type USING btree (id)","table":"source.payment_type","columns":["id"]}],"constraints":[{"name":"payment_type_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.payment_type","referenced_table":"","columns":["id"]}]},{"name":"source.product","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.product_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"product_category_id","type":"integer","nullable":true},{"name":"product_name","type":"varchar(100)","nullable":true}],"indexes":[{"name":"product_pkey","def":"CREATE UNIQUE INDEX product_pkey ON source.product USING btree (id)","table":"source.product","columns":["id"]}],"constraints":[{"name":"fk_product_category_id","type":"FOREIGN KEY","def":"FOREIGN KEY (product_category_id) REFERENCES source.product_category(id)","table":"source.product","referenced_table":"product_category","columns":["product_category_id"],"referenced_columns":["id"]},{"name":"product_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.product","referenced_table":"","columns":["id"]}]},{"name":"source.product_category","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.product_category_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"product_category_name","type":"varchar(100)","nullable":true}],"indexes":[{"name":"product_category_pkey","def":"CREATE UNIQUE INDEX product_category_pkey ON source.product_category USING btree (id)","table":"source.product_category","columns":["id"]}],"constraints":[{"name":"product_category_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.product_category","referenced_table":"","columns":["id"]}]},{"name":"source.product_price","type":"BASE TABLE","columns":[{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.product_price_id_seq'::regclass)"},{"name":"is_active","type":"boolean","nullable":true,"default":"true"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"price","type":"numeric(10,2)","nullable":true},{"name":"product_id","type":"integer","nullable":true},{"name":"valid_from","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"valid_to","type":"timestamp without time zone","nullable":true}],"indexes":[{"name":"product_price_pkey","def":"CREATE UNIQUE INDEX product_price_pkey ON source.product_price USING btree (id)","table":"source.product_price","columns":["id"]}],"constraints":[{"name":"fk_product_id","type":"FOREIGN KEY","def":"FOREIGN KEY (product_id) REFERENCES source.product(id)","table":"source.product_price","referenced_table":"product","columns":["product_id"],"referenced_columns":["id"]},{"name":"product_price_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.product_price","referenced_table":"","columns":["id"]}]},{"name":"source.sales_data","type":"BASE TABLE","columns":[{"name":"address","type":"varchar(100)","nullable":true},{"name":"color","type":"varchar(100)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"email","type":"varchar(100)","nullable":true},{"name":"hire_date","type":"date","nullable":true},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.sales_data_id_seq'::regclass)"},{"name":"name","type":"varchar(100)","nullable":true},{"name":"salary","type":"numeric(10,2)","nullable":true},{"name":"status","type":"varchar(100)","nullable":true},{"name":"store_id","type":"integer","nullable":true},{"name":"username","type":"varchar(100)","nullable":true}],"indexes":[{"name":"sales_data_pkey","def":"CREATE UNIQUE INDEX sales_data_pkey ON source.sales_data USING btree (id)","table":"source.sales_data","columns":["id"]}],"constraints":[{"name":"sales_data_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.sales_data","referenced_table":"","columns":["id"]}]},{"name":"source.store","type":"BASE TABLE","columns":[{"name":"city","type":"varchar(100)","nullable":true},{"name":"country","type":"varchar(50)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"id","type":"integer","nullable":false,"default":"nextval('source.store_id_seq'::regclass)"},{"name":"modified_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"},{"name":"state","type":"varchar(2)","nullable":true},{"name":"store_name","type":"varchar(100)","nullable":true},{"name":"street","type":"varchar(100)","nullable":true},{"name":"zip_code","type":"integer","nullable":true}],"indexes":[{"name":"store_pkey","def":"CREATE UNIQUE INDEX store_pkey ON source.store USING btree (id)","table":"source.store","columns":["id"]}],"constraints":[{"name":"store_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"source.store","referenced_table":"","columns":["id"]}]}],"relations":[{"table":"marts.customer_integration_history_scd2","columns":["customer_id"],"cardinality":"one_or_more","parent_table":"source.customer","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"id -\u003e customer_id","virtual":true},{"table":"source.invoice","columns":["order_id"],"cardinality":"zero_or_more","parent_table":"source.order","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (order_id) REFERENCES source.\"order\"(id)"},{"table":"source.order","columns":["customer_id"],"cardinality":"zero_or_more","parent_table":"source.customer","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (customer_id) REFERENCES source.customer(id)"},{"table":"source.order","columns":["store_id"],"cardinality":"zero_or_more","parent_table":"source.store","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (store_id) REFERENCES source.store(id)"},{"table":"source.order_detail","columns":["order_id"],"cardinality":"zero_or_more","parent_table":"source.order","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (order_id) REFERENCES source.\"order\"(id)"},{"table":"source.order_detail","columns":["product_id"],"cardinality":"zero_or_more","parent_table":"source.product","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (product_id) REFERENCES source.product(id)"},{"table":"source.order_detail","columns":["product_price_id"],"cardinality":"zero_or_more","parent_table":"source.product_price","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (product_price_id) REFERENCES source.product_price(id)"},{"table":"source.payment","columns":["payment_type_id"],"cardinality":"zero_or_more","parent_table":"source.payment_type","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (payment_type_id) REFERENCES source.payment_type(id)"},{"table":"source.payment","columns":["invoice_id"],"cardinality":"zero_or_more","parent_table":"source.invoice","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (invoice_id) REFERENCES source.invoice(id)"},{"table":"source.product","columns":["product_category_id"],"cardinality":"zero_or_more","parent_table":"source.product_category","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (product_category_id) REFERENCES source.product_category(id)"},{"table":"source.product_price","columns":["product_id"],"cardinality":"zero_or_more","parent_table":"source.product","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (product_id) REFERENCES source.product(id)"}],"enums":[{"name":"source.financial_account_enum","values":["Asset","Equity","Expense","Liability","Revenue"]},{"name":"source.integration_enum","values":["Hubspot","Mailchimp","Salesforce"]},{"name":"source.payment_enum","values":["Cash","Credit Card","Debit Card","Gift Card"]}],"driver":{"name":"postgres","database_version":"PostgreSQL 16.6 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["postgres","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
